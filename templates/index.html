{% extends "base.html" %}
{% block content %}
<div class="header">
    <div class="header-content">
        <h1>Video Content Analysis</h1>
        <p>Upload and analyze video content with advanced AI</p>
    </div>
</div>

<div class="container">
    <div class="features-grid">
        <!-- Feature Cards -->
        <div class="feature-card">
            <div class="feature-icon">üéØ</div>
            <h3>Content Flagging</h3>
            <p>Automatically detect and flag inappropriate content in videos with high accuracy</p>
        </div>

        <div class="feature-card">
            <div class="feature-icon">‚ö°</div>
            <h3>Real-time Analysis</h3>
            <p>Get instant insights with our advanced AI-powered video analysis</p>
        </div>

        <div class="feature-card">
            <div class="feature-icon">üîí</div>
            <h3>Content Safety</h3>
            <p>Ensure your content meets community guidelines and safety standards</p>
        </div>
    </div>

    <!-- Upload Button -->
    <div class="upload-section">
        <button id="uploadTrigger" class="upload-button">
            <span class="button-icon">üì§</span>
            <span class="button-text">Upload Video</span>
        </button>
        <p class="upload-hint">Supports MP4, AVI, MOV formats up to 2GB</p>
    </div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Upload Video</h2>
                <span class="step-count">2/2</span>
            </div>

            <div class="modal-body">
                <div class="select-index">
                    <label for="indexSelect">Select Index</label>
                    <select id="indexSelect" class="select-input">
                        <option value="new">New</option>
                    </select>
                </div>

                <form id="uploadForm">
                    <div class="dropzone" id="dropZone">
                        <input type="file" id="fileInput" accept="video/*" hidden>
                        <div class="dropzone-content">
                            <div class="upload-icon">üì§</div>
                            <p class="upload-text">Drop your video here or click to browse</p>
                            <div class="upload-info">
                                <div class="info-item">
                                    <span class="info-icon">‚è±Ô∏è</span>
                                    <span>4sec-30min</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-icon">üîä</span>
                                    <span>Audio Required</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-icon">üì∫</span>
                                    <span>360p-4k</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-icon">üìÅ</span>
                                    <span>‚â§2GB</span>
                                </div>
                            </div>
                            <p class="support-text">
                                Powered by <span class="highlight">Pegasus</span> AI Model
                            </p>
                        </div>
                    </div>

                    <div id="selectedFile" class="selected-file hidden"></div>

                    <div class="modal-footer">
                        <button type="button" id="cancelBtn" class="btn btn-secondary">Cancel</button>
                        <button type="submit" id="uploadBtn" class="btn btn-primary" disabled>
                            <span class="btn-text">Upload</span>
                            <div class="spinner hidden"></div>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Processing Overlay -->
    <div id="processingOverlay" class="processing-overlay hidden">
        <div class="processing-content">
            <div class="scan-animation">
                <div class="scan-line"></div>
            </div>
            <h3>Processing Your Video</h3>
            <p>Our AI is analyzing the content...</p>
        </div>
    </div>

    <!-- Results Section -->
    <div id="resultsSection" class="results-section hidden">
        <h2>Analysis Results</h2>
        <div id="videoPlayer" class="video-player"></div>
        <div id="analysisResults" class="analysis-results"></div>
    </div>
</div>
{% endblock %}